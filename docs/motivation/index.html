<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Motivation | redux-saga-requests</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="redux-saga-requests"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="With `redux-saga-requests`, assuming you use `axios` you could refactor a code in the following way:"><meta data-react-helmet="true" property="og:description" content="With `redux-saga-requests`, assuming you use `axios` you could refactor a code in the following way:"><meta data-react-helmet="true" property="og:url" content="https://strdr4605.github.io/redux-saga-requests/redux-saga-requests/docs/motivation">

<link data-react-helmet="true" rel="shortcut icon" href="/redux-saga-requests/img/favicon.ico">


<link rel="stylesheet" href="/redux-saga-requests/styles.60f7f9ae.css">


<link rel="preload" href="/redux-saga-requests/styles.3cee9df2.js" as="script">

<link rel="preload" href="/redux-saga-requests/runtime~main.4aace655.js" as="script">

<link rel="preload" href="/redux-saga-requests/main.5ebef261.js" as="script">

<link rel="preload" href="/redux-saga-requests/common.8369d3d8.js" as="script">

<link rel="preload" href="/redux-saga-requests/12.a5b0ccb0.js" as="script">

<link rel="preload" href="/redux-saga-requests/adcf1661.ebb0704f.js" as="script">

<link rel="preload" href="/redux-saga-requests/17896441.5466ca4d.js" as="script">

<link rel="preload" href="/redux-saga-requests/109f1412.7faae4d0.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/redux-saga-requests/"><img class="navbar__logo"><strong class="navbar__title">redux-saga-requests</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/redux-saga-requests/docs/motivation">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/klis87/redux-saga-requests">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/redux-saga-requests/"><img class="navbar__logo"><strong class="navbar__title">redux-saga-requests</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/redux-saga-requests/docs/motivation">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/klis87/redux-saga-requests">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img><strong>redux-saga-requests</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/redux-saga-requests/docs/motivation">Motivation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guide (remove before release)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-saga-requests/docs/doc1">Style Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-saga-requests/docs/doc2">Document Number 2</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-saga-requests/docs/doc3">This is Document Number 3</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-saga-requests/docs/mdx">Powered by MDX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Motivation</h1></header><div class="markdown"><p>With <code>redux-saga-requests</code>, assuming you use <code>axios</code> you could refactor a code in the following way:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">  import axios from &#x27;axios&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token deleted-sign deleted">- import { takeEvery, put, call } from &#x27;redux-saga/effects&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+ import { all } from &#x27;redux-saga/effects&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+ import { handleRequests } from &#x27;redux-saga-requests&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+ import { createDriver } from &#x27;redux-saga-requests-axios&#x27;; // or another driver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged">  const FETCH_BOOKS = &#x27;FETCH_BOOKS&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token deleted-sign deleted">- const FETCH_BOOKS_SUCCESS = &#x27;FETCH_BOOKS_SUCCESS&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- const FETCH_BOOKS_ERROR = &#x27;FETCH_BOOKS_ERROR&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted-sign deleted">- const fetchBooks = () =&gt; ({ type: FETCH_BOOKS });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- const fetchBooksSuccess = data =&gt; ({ type: FETCH_BOOKS_SUCCESS, data });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- const fetchBooksError = error =&gt; ({ type: FETCH_BOOKS_ERROR, error });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+ const fetchBooks = () =&gt; ({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+   type: FETCH_BOOKS,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+   request: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+     url: &#x27;/books&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+     // you can put here other Axios config attributes, like method, data, headers etc.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+   },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+ });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted-sign deleted">- const defaultState = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   data: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   pending: 0, // number of pending FETCH_BOOKS requests</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   error: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- const booksReducer = (state = defaultState, action) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   switch (action.type) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     case FETCH_BOOKS:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-       return { ...defaultState, pending: state.pending + 1 };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     case FETCH_BOOKS_SUCCESS:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-       return { ...defaultState, data: action.data, pending: state.pending - 1 };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     case FETCH_BOOKS_ERROR:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-       return { ...defaultState, error: action.error, pending: state.pending - 1 };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     default:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-       return state;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted-sign deleted">- const fetchBooksApi = () =&gt; axios.get(&#x27;/books&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- function* fetchBooksSaga() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   try {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     const response = yield call(fetchBooksApi);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     yield put(fetchBooksSuccess(response.data));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   } catch (e) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-     yield put(fetchBooksError(e));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">- }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted">-</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token unchanged">  const configureStore = () =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token inserted-sign inserted">+   const { requestsReducer, requestsSagas } = handleRequests({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+     driver: createDriver(axios),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+   });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token unchanged">    const reducers = combineReducers({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token deleted-sign deleted">-     books: booksReducer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+     requests: requestsReducer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token unchanged">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged">    const sagaMiddleware = createSagaMiddleware();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">    const store = createStore(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">      reducers,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">      applyMiddleware(sagaMiddleware),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">    );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged">    function* rootSaga() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token deleted-sign deleted">-     yield takeEvery(FETCH_BOOKS, fetchBooksSaga);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+     yield all(requestsSagas);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token unchanged">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged">    sagaMiddleware.run(rootSaga);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">    return store;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">  };</span></div></code></pre></div><p>With <code>redux-saga-requests</code>, you no longer need to define error and success actions to do things like error handling
or showing loading spinners. You don&#x27;t need to write requests related repetitive sagas and reducers either.
You don&#x27;t even need to worry about writing selectors, as this library provides optimized selectors out of the box.
With action helper library like <code>redux-actions</code>, you don&#x27;t even need to write constants!
So basically you end up writing just actions to manage your whole remote state, so no more famous boilerplate in your Redux apps!</p><p>Here you can see the list of features this library provides:</p><ul><li>you define your AJAX requests as simple actions, like <code>{ type: FETCH_BOOKS, request: { url: &#x27;/books&#x27; } }</code> and <code>success</code>,
<code>error</code> (<code>abort</code> is also supported, see below) actions will be dispatched automatically for you</li><li><code>success</code>, <code>error</code> and <code>abort</code> functions, which add correct and consistent suffixes to your request action types, so you can easily
react on response actions in your reducers/sagas/middleware</li><li><code>handleRequests</code> function, which gives you all the pieces needed for this library to work</li><li>automatic and configurable requests aborts, which increases performance and prevents race condition bugs before they even happen</li><li>sending multiple requests in one action - <code>{ type: FETCH_BOOKS_AND_AUTHORS, request: [{ url: &#x27;/books&#x27; }, { url: &#x27;/authors}&#x27;] }</code>
will send two requests and wrap them in <code>Promise.all</code></li><li>declarative programming - the idea of this library is to encapsulate all requests logic inside actions, so no more scattered logic
between actions, reducers, sagas and middlewares</li><li>support for Axios, Fetch API and GraphQL - additional clients could be added, allowed to use any of them
within one app, you could even write your own client integration as a <code>driver</code> (see <a href="https://github.com/klis87/redux-saga-requests/blob/master/packages/redux-saga-requests-axios/src/axios-driver.js">./packages/redux-saga-requests-axios/src/axios-driver.js</a>
for the example)</li><li>optimistic updates support, so your views can be updated even before requests are finished, while you still keep consistency in case of errors by reverting optimistic updates</li><li>cache support with TTL, so that you can avoid making repetitive requests for a data which does not require to be always fetched
from your server</li><li>mocking - mock driver, which use can use for test purposes or when you would like to integrate with API not yet implemented (and once API is finished, you could just change driver to Axios or Fetch and magicaly everything will work!)</li><li>multiple driver support - for example you can use Axios for one part of your requests and Fetch Api for another part</li><li>compatible with FSA, <code>redux-act</code> and <code>redux-actions</code> libraries (see <a href="https://github.com/klis87/redux-saga-requests/tree/master/examples/redux-act-integration">redux-act example</a>)</li><li>simple to use with server side rendering - just pass one extra option to <code>handleRequests</code> and your app will be ready for SSR!</li><li><code>onRequest</code>, <code>onSuccess</code>, <code>onError</code> and <code>onAbort</code> interceptors, you can attach your sagas (or simple functions)
to them to define a global behaviour for a given event type</li><li>optional <code>requestsPromiseMiddleware</code>, which promisifies requests actions dispatch, so you can wait in your react components to get request response, the same way like you can do this with <code>redux-thunk</code></li><li>highly optimized selectors to retrieve your remote state</li><li>automatic (but optional) data normalisation, so you can forget about manual data updates, just like in graphql world but available universally!</li><li>React bindings in <code>redux-saga-requests-react</code> package</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/motivation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/redux-saga-requests/docs/doc1"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Style Guide »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 redux-saga-requests. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/redux-saga-requests/styles.3cee9df2.js"></script>

<script src="/redux-saga-requests/runtime~main.4aace655.js"></script>

<script src="/redux-saga-requests/main.5ebef261.js"></script>

<script src="/redux-saga-requests/common.8369d3d8.js"></script>

<script src="/redux-saga-requests/12.a5b0ccb0.js"></script>

<script src="/redux-saga-requests/adcf1661.ebb0704f.js"></script>

<script src="/redux-saga-requests/17896441.5466ca4d.js"></script>

<script src="/redux-saga-requests/109f1412.7faae4d0.js"></script>


</body>
</html>